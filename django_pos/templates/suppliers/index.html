{%extends 'pos/base.html'%}
{% load static %}
{% block title %}Suppliers{% endblock %}
{%block heading%}Suppliers{%endblock%}
{% block content %}
<!--Add supplier modal with tabs-->
<div class="modal fade" id="addSupplierModal" tabindex="-1" role="dialog" aria-labelledby="addSupplierModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addSupplierModalLabel">Add Supplier</h5>
                <button type="button" class="close close_add_modal" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body  p-4">
                <form>
                    <!--tab-->
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="supplier-tab" data-toggle="tab" href="#supplier" role="tab"
                                aria-controls="supplier" aria-selected="true">Supplier</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab"
                                aria-controls="contact" aria-selected="false">Contact</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="address-tab" data-toggle="tab" href="#address" role="tab"
                                aria-controls="address" aria-selected="false">Address</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="settings-tab" data-toggle="tab" href="#settings" role="tab"
                                aria-controls="settings" aria-selected="false">Settings</a>
                        </li>
                    </ul>
                    <div class="form-group row mt-2">
                        <label for="name" class="col-sm-3 col-form-label">Name</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="name" name="name" required>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="phone" class="col-sm-3 col-form-label">Phone</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="phone" name="phone" required>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="email" class="col-sm-3 col-form-label">Email</label>
                        <div class="col-sm-9">
                            <input type="email" class="form-control" id="email" name="email" required>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="kra_pin" class="col-sm-3 col-form-label">KRA PIN</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="kra_pin" name="kra_pin" required>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="branch" class="col-sm-3 col-form-label">Branch</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="branch" name="branch" required>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="address" class="col-sm-3 col-form-label">Address</label>
                        <div class="col-sm-9">
                            <textarea class="form-control" id="address" name="address" required></textarea>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="website" class="col-sm-3 col-form-label">
                            Website
                        </label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="website" name="website">
                        </div>
                    </div>
                    <!--logo-->
                    <div class="form-group row">
                        <label for="logo" class="col-sm-3 col-form-label">Logo</label>
                        <div class="col-sm-9">
                            <input type="file" class="form-control-file" id="logo" name="logo">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger close_add_modal" data-dismiss="modal">
                            <i class="fas fa-times"></i>
                        </button>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save"></i>

                        </button>
                    </div>

                </form>
            </div>
        </div>
    </div>
</div>



<!--Back and add suuplier buttons-both are responsive-->
<div class="row ml-0 mb-3">
    <a>
        <button type="button" class="btn btn-success font-weight-bold" id="open_add_supplier_modal">
            <i class="fas fa-plus mr-2"></i>
            Add Supplier
        </button>
    </a>
</div>
<!--Table for suppliers-->
{% if suppliers %}
<div class="table-responsive">
    <table class="table table-striped table-bordered table-hover">
        <thead>
            <tr>
                <th>Supplier Name</th>
                <th>Phone</th>
                <th>Email</th>
                <th>KRA PIN</th>
                <th>Branch</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for supplier in suppliers %}
            <tr>
                <td>{{supplier.name}}</td>
                <td>{{supplier.phone}}</td>
                <td>{{supplier.email}}</td>
                <td>{{supplier.kra_pin}}</td>
                <td>{{supplier.branch}}</td>

                <td>
                    <a class="btn btn-primary btn-sm">
                        <i class="fas fa-edit"></i>
                    </a>
                    <a class="btn btn-danger btn-sm">
                        <i class="fas fa-trash"></i>
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="alert alert-info">
    No suppliers found
</div>
{% endif %}

<script>
    $(document).ready(function () {
        //open add supplier modal
        $('#open_add_supplier_modal').click(function () {
            $('#addSupplierModal').modal('show');
        });
        //close add supplier modal
        $('.close_add_modal').click(function () {
            $('#addSupplierModal').modal('hide');
        });
    });
</script>

{%endblock content%}