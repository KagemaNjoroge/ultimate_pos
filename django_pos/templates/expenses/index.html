{%extends 'pos/base.html'%}
{% load static %}
{% block title %}Expenses{% endblock %}
{%block heading%}Expenses{%endblock%}
{% block content %}

<div class="mb-3 ml-2">
    <a href="{%url 'expenses:add_expense'%}">
        <button type="button" class="btn btn-success font-weight-bold" id="show_add_expense_modal">
            <i class="ti ti-plus"></i>
            Add Expense
        </button>
    </a>

    <a href="{%url 'expenses:category'%}">
        <button type="button" class="btn btn-secondary font-weight-bold">
            <i class="ti ti-list"></i>
            Expense Categories
        </button>
    </a>
</div>


<div class="card ml-2">
    <div class="card-body">
        <div id="alerts"></div>
        {% if expenses %}
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover" id="dataTable">
                <thead>
                    <tr>
                        <th>Expense</th>
                        <th>Amount</th>
                        <th>Date</th>
                        <th>Category</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for expense in expenses %}
                    <tr>
                        <td>{{expense.expense_name}}</td>
                        <td>{{expense.amount}}</td>
                        <td>{{expense.date_added}}</td>
                        <td>{{expense.category}}</td>
                        <td>
                            <div class="btn-group">
                                <button class="btn btn-primary edit btn-sm" data-id="{{expense.id}}"
                                    data-name="{{expense.expense_name}}" data-amount="{{expense.amount}}"
                                    data-category="{{expense.category}}"
                                    data-description="{{expense.expense_description}}">
                                    <i class="ti ti-pencil"></i>
                                </button>
                                <button class="btn btn-danger delete btn-sm" data-id="{{expense.id}}"
                                    data-name="{{expense.expense_name}}">

                                    <i class="ti ti-trash"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <p>No expenses found</p>
        {% endif %}


    </div>
</div>
<script>
    $(document).ready(function () {
        $('#dataTable').DataTable();
    });
</script>
{%endblock content%}